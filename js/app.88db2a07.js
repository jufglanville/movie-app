(function(e){function t(t){for(var n,o,i=t[0],s=t[1],l=t[2],b=0,v=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(v.length)v.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0c70":function(e,t,r){"use strict";r("5854")},"0cc5":function(e,t,r){e.exports=r.p+"img/12.2ffbb027.png"},"1fbc":function(e,t,r){e.exports=r.p+"img/rotten-tomato-0-59.080e9960.png"},"20ee":function(e,t,r){"use strict";r("d495")},"24c7":function(e,t,r){e.exports=r.p+"img/rotten-tomato-60-89.a077eafe.png"},"2cf8":function(e,t,r){"use strict";r("c7f7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a={class:"container"};function c(e,t,r,c,o,i){var s=Object(n["v"])("Navbar"),l=Object(n["v"])("router-view"),u=Object(n["v"])("Footer");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(s),Object(n["g"])("div",a,[Object(n["g"])(l,{key:e.$route.fullPath})]),Object(n["g"])(u)],64)}r("841c"),r("ac1f");var o={class:"navbar"},i=Object(n["g"])("span",{class:"material-icons navbar__logo"},"theaters",-1),s=Object(n["g"])("h1",{class:"navbar__header"},"MoviVerse",-1),l={class:"navbar__links-container"},u={class:"navbar__search-container"},b={class:"navbar__favorite-container"},v=Object(n["g"])("span",{class:"material-icons navbar__favorite-icon"},"favorite",-1);function p(e,t,r,a,c,p){var f=Object(n["v"])("router-link");return Object(n["q"])(),Object(n["d"])("nav",o,[Object(n["g"])(f,{to:{name:"Home"},class:"navbar__logo-container"},{default:Object(n["B"])((function(){return[i,s]})),_:1}),Object(n["g"])("div",l,[Object(n["g"])("div",u,[Object(n["C"])(Object(n["g"])("input",{class:"navbar__search",type:"text",placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.search=e})},null,512),[[n["z"],a.search]]),Object(n["g"])("span",{class:"material-icons navbar__search-icon",onClick:t[2]||(t[2]=function(e){return a.openSearch()})},"search")]),Object(n["g"])("div",b,[Object(n["g"])(f,{to:{name:"Favorites"}},{default:Object(n["B"])((function(){return[v]})),_:1})])])])}var f=r("1da1"),d=(r("96cf"),r("6c02")),O=r("5502"),m={setup:function(){var e,t=Object(d["c"])(),r=Object(O["b"])(),a=Object(n["t"])(""),c=Object(n["t"])(!1);Object(n["A"])(a,(function(){clearTimeout(e),e=setTimeout(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.dispatch("fetchMovies",a.value);case 1:case"end":return e.stop()}}),e)}))),500),a.value.length>0&&t.push({name:"Search"})}));var o=function(){var e="navbar__search--active",t=document.querySelector(".navbar__search");t.classList.contains(e)?t.classList.remove(e):(t.classList.add(e),t.select())};return{search:a,searchOpen:c,openSearch:o}}};r("79dd");m.render=p;var j=m,g=r("62d8"),h=r.n(g),_={class:"footer"},y=Object(n["g"])("p",{class:"footer__paragraph"},"built by Joe Glanville",-1),k=Object(n["g"])("div",null,[Object(n["g"])("p",{class:"footer__paragraph"},"powered by:"),Object(n["g"])("img",{src:h.a,alt:"tmdb logo",class:"footer__logo"})],-1);function w(e,t,r,a,c,o){return Object(n["q"])(),Object(n["d"])("footer",_,[y,k])}var M={};r("8691");M.render=w;var x=M,R={components:{Navbar:j,Footer:x}};r("5ab9");R.render=c;var S=R,q={key:0,class:"new-releases movies__container"},F=Object(n["g"])("h1",{class:"movies__heading"},"Coming Soon",-1),T={key:1,class:"new-releases movies__container"},C=Object(n["g"])("h1",{class:"movies__heading"},"New Releases",-1),P={key:2,class:"new-releases movies__container"},D=Object(n["g"])("h1",{class:"movies__heading"},"Popular Films",-1),B={key:3,class:"new-releases movies__container"},U=Object(n["g"])("h1",{class:"movies__heading"},"Top Rated Films",-1);function L(e,t,r,a,c,o){var i=Object(n["v"])("Carousel");return Object(n["q"])(),Object(n["d"])(n["a"],null,[a.comingSoon&&a.comingSoon.result?(Object(n["q"])(),Object(n["d"])("div",q,[F,Object(n["g"])(i,{movies:a.comingSoon,section:"comingSoonFilms"},null,8,["movies"])])):Object(n["e"])("",!0),a.nowPlaying&&a.nowPlaying.result?(Object(n["q"])(),Object(n["d"])("div",T,[C,Object(n["g"])(i,{movies:a.nowPlaying,section:"newReleases"},null,8,["movies"])])):Object(n["e"])("",!0),a.popular&&a.popular.result?(Object(n["q"])(),Object(n["d"])("div",P,[D,Object(n["g"])(i,{movies:a.popular,section:"popularFilms"},null,8,["movies"])])):Object(n["e"])("",!0),a.topRated&&a.topRated.result?(Object(n["q"])(),Object(n["d"])("div",B,[U,Object(n["g"])(i,{movies:a.topRated,section:"topRatedFilms"},null,8,["movies"])])):Object(n["e"])("",!0)],64)}var A=Object(n["g"])("span",{class:"material-icons"},"arrow_back_ios_new",-1),N={class:"carousel__tile-container"},G=Object(n["g"])("span",{class:"material-icons"},"arrow_forward_ios",-1),I={key:0,class:"error-tiles"};function Y(e,t,r,a,c,o){var i=Object(n["v"])("MovieTile");return r.movies?(Object(n["q"])(),Object(n["d"])("div",{key:0,class:["carousel",r.section]},[Object(n["g"])("div",{onClick:t[1]||(t[1]=function(e){return a.nav("previous")}),class:"carousel__btn carousel__btn--previous"},[A]),Object(n["g"])("div",N,[Object(n["g"])(i,{movies:r.movies},null,8,["movies"])]),Object(n["g"])("div",{onClick:t[2]||(t[2]=function(e){return a.nav("next")}),class:"carousel__btn carousel__btn--next"},[G]),r.movies.error?(Object(n["q"])(),Object(n["d"])("p",I,Object(n["x"])(r.movies.error),1)):Object(n["e"])("",!0)],2)):Object(n["e"])("",!0)}var V={class:"tile__hover"},E={class:"tile__title"},H={class:"tile__year"};function J(e,t,r,a,c,o){var i=Object(n["v"])("router-link");return Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["u"])(r.movies.result,(function(e){return Object(n["q"])(),Object(n["d"])("div",{key:e.id,class:"tile"},[Object(n["g"])(i,{to:{name:"MovieDetails",params:{id:e.id,poster_path:e.poster_path}},class:"tile__link"},{default:Object(n["B"])((function(){return[Object(n["g"])("img",{src:e.poster_path,alt:e.title,class:"tile__img"},null,8,["src","alt"]),Object(n["g"])("div",V,[Object(n["g"])("h2",E,Object(n["x"])(e.title),1),Object(n["g"])("p",H,Object(n["x"])(e.Year),1)])]})),_:2},1032,["to"])])})),128)}var W={props:["movies"]};r("6eb8");W.render=J;var X=W,z={components:{MovieTile:X},props:["movies","section"],setup:function(e){var t=0,r=0,n=!1,a=function(a){if(!n){var c=document.querySelector(".".concat(e.section)),o=c.querySelector(".carousel__tile-container"),i=c.offsetWidth,s=c.querySelectorAll(".tile"),l=s[1].offsetWidth,u=c.querySelectorAll(".tile").length,b=Math.floor(i/l);if("previous"===a){if(t>0){t-=b,t<0&&(t=0);var v=s[t].getBoundingClientRect();r+=0===t?v.left:v.left-50,r=Math.round(r),o.style.transform="translateX(-".concat(r,"px)")}n=!0}else if("next"===a){if(t<u-b){t+=b;var p=s[t].getBoundingClientRect();r+=p.left-50,r=Math.round(r),o.style.transform="translateX(-".concat(r,"px)")}else console.log("go back to start"),o.style.transform="translateX(0px)",t=0,r=0;n=!0}o.addEventListener("transitionend",(function(){n=!1}))}};return{nav:a}}};r("20ee");z.render=Y;var $=z,K={name:"Home",components:{Carousel:$},setup:function(){var e=Object(O["b"])();return Object(n["o"])(Object(f["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r="navbar__search--active",n=document.querySelector(".navbar__search"),n.value.length>0&&(n.value="",n.classList.remove(r)),e.dispatch("fetchNowPlaying"),e.dispatch("fetchPopular"),e.dispatch("fetchTopRated"),e.dispatch("fetchComingSoon");case 7:case"end":return t.stop()}}),t)})))),{nowPlaying:Object(n["b"])((function(){return e.state.nowPlaying})),popular:Object(n["b"])((function(){return e.state.popular})),topRated:Object(n["b"])((function(){return e.state.topRated})),comingSoon:Object(n["b"])((function(){return e.state.comingSoon}))}}};r("6b56");K.render=L;var Q=K,Z=r("fd2a"),ee=r.n(Z),te=r("24c7"),re=r.n(te),ne=r("1fbc"),ae=r.n(ne),ce=r("fce2"),oe=r.n(ce),ie=r("6c6d"),se=r.n(ie),le=r("0cc5"),ue=r.n(le),be=r("f797"),ve=r.n(be),pe=r("f954"),fe=r.n(pe),de=r("f000"),Oe=r.n(de),me={key:0,class:"wrapper"},je={class:"hero"},ge=Object(n["g"])("div",{class:"hero__overlay"},null,-1),he=Object(n["g"])("div",{class:"hero__video"},null,-1),_e={class:"detail"},ye={class:"detail__header"},ke={class:"detail__banner banner"},we={class:"banner__container"},Me={class:"banner__stars"},xe={class:"banner__vote-count"},Re={key:0,class:"banner__container"},Se={key:1,class:"detail__tomato banner__container"},qe={key:0,src:ee.a},Fe={key:1,src:re.a},Te={key:2,src:ae.a},Ce={class:"banner__container"},Pe={class:"banner__container"},De={key:0,src:oe.a},Be={key:1,src:se.a},Ue={key:2,src:ue.a},Le={key:3,src:ve.a},Ae={key:4,src:fe.a},Ne={key:5,src:Oe.a},Ge={class:"detail__plot"},Ie={class:"detail__cast cast"},Ye={key:0},Ve={key:0},Ee={key:0},He={key:0},Je=Object(n["g"])("span",{class:"material-icons favorite__icon"},"favorite",-1),We=Object(n["f"])(" add to favorites "),Xe={key:1},ze=Object(n["g"])("span",{class:"material-icons favorite__icon favorite__icon--active"},"favorite",-1),$e=Object(n["f"])(" favorite "),Ke={key:1,class:"related"},Qe=Object(n["g"])("h1",{class:"related__heading"},"You May Also Like...",-1);function Ze(e,t,r,a,c,o){var i=Object(n["v"])("Trailer"),s=Object(n["v"])("Carousel");return a.result?(Object(n["q"])(),Object(n["d"])("div",me,[a.showModal?(Object(n["q"])(),Object(n["d"])(i,{key:0,isOpen:a.showModal,"onUpdate:isOpen":t[1]||(t[1]=function(e){return a.showModal=e}),movieID:a.props.id},null,8,["isOpen","movieID"])):Object(n["e"])("",!0),Object(n["g"])("span",{onClick:t[2]||(t[2]=function(){return a.back&&a.back.apply(a,arguments)}),class:"material-icons back__button"},"arrow_back_ios"),Object(n["g"])("div",je,[ge,Object(n["g"])("img",{src:a.result.backdrop_path,alt:"",class:"hero__img"},null,8,["src"]),Object(n["g"])("span",{class:"material-icons hero__play",onClick:t[3]||(t[3]=function(e){return a.handleClick()})}," play_circle_outline "),he]),Object(n["g"])("div",_e,[Object(n["g"])("h2",ye,Object(n["x"])(a.result.title),1),Object(n["g"])("div",ke,[Object(n["g"])("div",we,[Object(n["g"])("div",Me,[Object(n["g"])("div",{class:"banner__stars--inner",style:{width:10*a.result.vote_average+"%"}},null,4)]),Object(n["g"])("p",xe,Object(n["x"])(a.result.vote_count),1)]),a.result.imdbRating?(Object(n["q"])(),Object(n["d"])("h3",Re," IMDb "+Object(n["x"])(a.result.imdbRating),1)):Object(n["e"])("",!0),a.result.Ratings?(Object(n["q"])(),Object(n["d"])("div",Se,[1===a.result.rottenTomato?(Object(n["q"])(),Object(n["d"])("img",qe)):Object(n["e"])("",!0),2===a.result.rottenTomato?(Object(n["q"])(),Object(n["d"])("img",Fe)):Object(n["e"])("",!0),3===a.result.rottenTomato?(Object(n["q"])(),Object(n["d"])("img",Te)):Object(n["e"])("",!0),Object(n["g"])("h3",null,Object(n["x"])(a.result.Ratings[1].Value),1)])):Object(n["e"])("",!0),Object(n["g"])("h3",Ce,Object(n["x"])(a.result.releaseYear),1),Object(n["g"])("div",Pe,["U"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",De)):Object(n["e"])("",!0),"PG"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",Be)):Object(n["e"])("",!0),"12"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",Ue)):Object(n["e"])("",!0),"12A"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",Le)):Object(n["e"])("",!0),"15"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",Ae)):Object(n["e"])("",!0),"18"===a.result.rating?(Object(n["q"])(),Object(n["d"])("img",Ne)):Object(n["e"])("",!0)])]),Object(n["g"])("p",Ge,Object(n["x"])(a.result.overview),1),Object(n["g"])("table",Ie,[Object(n["g"])("tr",null,[a.result.Actors?(Object(n["q"])(),Object(n["d"])("th",Ye,"Starring:")):Object(n["e"])("",!0),Object(n["g"])("td",null,Object(n["x"])(a.result.Actors),1)]),Object(n["g"])("tr",null,[a.result.Director?(Object(n["q"])(),Object(n["d"])("th",Ve,"Director:")):Object(n["e"])("",!0),Object(n["g"])("td",null,Object(n["x"])(a.result.Director),1)]),Object(n["g"])("tr",null,[a.result.Genre?(Object(n["q"])(),Object(n["d"])("th",Ee,"Genre:")):Object(n["e"])("",!0),Object(n["g"])("td",null,Object(n["x"])(a.result.Genre),1)])]),Object(n["g"])("div",{class:"favorite",onClick:t[4]||(t[4]=function(){return a.addFavourite&&a.addFavourite.apply(a,arguments)})},[a.favourite?(Object(n["q"])(),Object(n["d"])("p",Xe,[ze,$e])):(Object(n["q"])(),Object(n["d"])("p",He,[Je,We]))])]),a.relatedMovies.result?(Object(n["q"])(),Object(n["d"])("div",Ke,[Qe,Object(n["g"])(s,{movies:a.relatedMovies,section:"relatedMovies"},null,8,["movies"])])):Object(n["e"])("",!0)])):Object(n["e"])("",!0)}r("7db0");var et={class:"trailer__backdrop"},tt={class:"trailer__modal"},rt={key:1,class:"trailer__error"};function nt(e,t,r,a,c,o){return Object(n["q"])(),Object(n["d"])("div",et,[Object(n["g"])("div",tt,[a.result?(Object(n["q"])(),Object(n["d"])("iframe",{key:0,src:a.result[0].trailer,allow:"fullscreen;",class:"trailer__video"},"\n      ",8,["src"])):Object(n["e"])("",!0),a.error?(Object(n["q"])(),Object(n["d"])("p",rt,"Sorry, we don't have a trailer for this film")):Object(n["e"])("",!0),Object(n["g"])("span",{class:"material-icons trailer__btn",onClick:t[1]||(t[1]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})}," highlight_off ")])])}var at=r("5530"),ct=(r("d3b7"),r("99af"),r("159b"),r("4de4"),r("fb6a"),r("a9e3"),r("5319"),"5ad99ee13849cfaf1fabd5b0e6ccb9c2"),ot="722b64b4",it={apiTMDB:ct,apiOMDB:ot},st=function(){var e=Object(n["t"])(null),t=Object(n["t"])(null),r=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/videos?api_key=").concat(it.apiTMDB,"&language=en-US")).then((function(e){return e.json()})).then((function(r){if(r.results.length<1)return t.value="Sorry we couldn't find this trailer",void console.log(t.value);var n=[];console.log(r),r.results.forEach((function(e){var t={};t.trailer="https://www.youtube.com/embed/".concat(e.key,"?autoplay=1&mute=1"),n.push(t)})),e.value=n})).catch((function(){t.value="Can not connect to db"})),r.abrupt("return",{error:t,result:e});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),a=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(n){var a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(it.apiTMDB,"&language=en-US")).then((function(e){return e.json()})).then((function(t){e.value=t,e.value.backdrop_path="https://image.tmdb.org/t/p/original".concat(e.value.backdrop_path),a=e.value.imdb_id})).catch((function(){t.value="Can not connect to db"}));case 2:return r.next=4,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/release_dates?api_key=").concat(it.apiTMDB)).then((function(e){return e.json()})).then((function(t){var r=t.results.filter((function(e){return"GB"===e.iso_3166_1}));e.value=Object(at["a"])(Object(at["a"])({},e.value),{},{rating:r[0].release_dates[0].certification,releaseYear:r[0].release_dates[0].release_date.slice(0,4)})})).catch((function(){t.value="Can not connect to db"}));case 4:return fetch("http://www.omdbapi.com/?apikey=".concat(it.apiOMDB,"&i=").concat(a)).then((function(e){return e.json()})).then((function(t){if("Rotten Tomatoes"===t.Ratings[1].Source){var r=Number(t.Ratings[1].Value.replace("%",""));c=r>=90?1:r>=60?2:3}e.value=Object(at["a"])(Object(at["a"])(Object(at["a"])({},e.value),t),{},{rottenTomato:c})})).catch((function(){t.value="Can not connect to db"})),r.abrupt("return",{error:t,result:e});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return{result:e,error:t,retrieveTrailer:r,retrieveMoviesDetails:a}},lt=st,ut={props:["isOpen","movieID"],setup:function(e,t){var r=t.emit,a=lt(),c=a.result,o=a.error,i=a.retrieveTrailer;Object(n["o"])(Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i(e.movieID);case 2:case"end":return t.stop()}}),t)}))));var s=function(){r("update:isOpen",!1)};return{result:c,error:o,handleClick:s}}};r("9140");ut.render=nt;var bt=ut,vt={props:["id","poster_path"],components:{Trailer:bt,Carousel:$},setup:function(e){var t=Object(O["b"])(),r=Object(d["c"])(),a=Object(n["t"])(!1),c=lt(),o=c.result,i=c.error,s=c.retrieveMoviesDetails,l=Object(n["t"])();Object(n["o"])(Object(f["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n="navbar__search--active",a=document.querySelector(".navbar__search"),a.classList.contains(n)&&a.classList.remove(n),r.next=5,s(e.id);case 5:t.dispatch("fetchRelatedMovies",e.id),t.state.favourite.result.find((function(t){return t.id===e.id}))?l.value=!0:l.value=!1;case 7:case"end":return r.stop()}}),r)}))));var u=function(){if(l.value)t.commit("removeFavourite",e.id),l.value=!1;else{var r={id:e.id,title:o.value.title,poster_path:e.poster_path};l.value=!0,t.commit("setFavourite",r)}},b=function(){a.value=!0},v=function(){r.go(-1)};return{result:o,error:i,props:e,handleClick:b,showModal:a,back:v,addFavourite:u,relatedMovies:Object(n["b"])((function(){return t.state.relatedMovies})),favourite:l}}};r("6adc");vt.render=Ze;var pt=vt,ft={key:0},dt={key:0,class:"grid__container"},Ot={key:1,class:"search__container"},mt={class:"search__error"},jt={key:2,class:"search__container"},gt=Object(n["g"])("p",{class:"search__no-search"},"Search for a movie using the search box above",-1);function ht(e,t,r,a,c,o){var i=Object(n["v"])("MovieTile");return a.movies?(Object(n["q"])(),Object(n["d"])("div",ft,[a.movies.result?(Object(n["q"])(),Object(n["d"])("div",dt,[Object(n["g"])(i,{movies:a.movies},null,8,["movies"])])):Object(n["e"])("",!0),a.movies.error?(Object(n["q"])(),Object(n["d"])("div",Ot,[Object(n["g"])("p",mt,Object(n["x"])(a.movies.error),1)])):Object(n["e"])("",!0),null===a.movies.error&null===a.movies.result?(Object(n["q"])(),Object(n["d"])("div",jt,[gt])):Object(n["e"])("",!0)])):Object(n["e"])("",!0)}var _t={name:"Search",components:{MovieTile:X},setup:function(){var e=Object(O["b"])();return Object(n["o"])(Object(f["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t="search__input--active",r=document.querySelector(".search__input"),r&&r.value.length>0&&r.classList.add(t);case 3:case"end":return e.stop()}}),e)})))),{movies:Object(n["b"])((function(){return e.state.movies}))}}};r("0c70");_t.render=ht;var yt=_t,kt={key:0,class:"grid__container"},wt={key:1,class:"favorite__container"},Mt=Object(n["g"])("span",{class:"material-icons favorite__icon "},"favorite",-1),xt=Object(n["g"])("p",{class:"favorite__no-favorite"},"You don't have any favourites yet",-1),Rt=Object(n["g"])("p",{class:"favorite__no-favorite"},"why not add some by clicking the heart icon in the details",-1);function St(e,t,r,a,c,o){var i=Object(n["v"])("MovieTile");return a.movies.result.length?(Object(n["q"])(),Object(n["d"])("div",kt,[Object(n["g"])(i,{movies:a.movies},null,8,["movies"])])):(Object(n["q"])(),Object(n["d"])("div",wt,[Mt,xt,Rt]))}var qt={name:"Favourite",components:{MovieTile:X},setup:function(){var e=Object(O["b"])();return{movies:Object(n["b"])((function(){return e.state.favourite}))}}};r("2cf8");qt.render=St;var Ft=qt,Tt=[{path:"/",name:"Home",component:Q},{path:"/search",name:"Search",component:yt},{path:"/favorites",name:"Favorites",component:Ft},{path:"/movie/:id",name:"MovieDetails",component:pt,props:!0}],Ct=Object(d["a"])({history:Object(d["b"])("/movie-app/"),routes:Tt}),Pt=Ct,Dt=(r("c740"),r("a434"),{nowPlaying:{url:"https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(it.apiTMDB,"&language=en-US&page=1"),error:"new releases"},popularFilms:{url:"https://api.themoviedb.org/3/movie/popular?api_key=".concat(it.apiTMDB,"&language=en-US&page=1"),error:"popular films"},topRatedFilms:{url:"https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(it.apiTMDB,"&language=en-US&page=1"),error:"top rated films"},comingSoonFilms:{url:"https://api.themoviedb.org/3/movie/upcoming?api_key=".concat(it.apiTMDB,"&language=en-US&page=1"),error:"films coming soon"}}),Bt=function(e){var t=[];return t=e.filter((function(e){return null!==e.poster_path&&null!==e.backdrop_path?e:null})),t.forEach((function(e){e.poster_path="https://image.tmdb.org/t/p/original".concat(e.poster_path)})),t},Ut=function(){var e=Object(n["t"])(null),t=Object(n["t"])(null),r=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""===n){r.next=3;break}return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(it.apiTMDB,"&language=en-US&query=").concat(n,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(r){r.results.length<1?t.value="Sorry, we can't find this film":e.value=Bt(r.results)})).catch((function(){t.value="Can not connect to db"})),r.abrupt("return",{error:t,result:e});case 3:return r.abrupt("return","");case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),a=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return fetch(Dt[n].url).then((function(e){return e.json()})).then((function(r){r.results.length<1?t.value="Sorry, we can't find any ".concat(Dt[n].error," at the moment"):"comingSoonFilms"===n?(e.value=r.results.filter((function(e){return new Date(e.release_date)>new Date?e:null})),e.value=Bt(e.value)):e.value=Bt(r.results)})).catch((function(){t.value="Can not connect to db"})),r.abrupt("return",{error:t,result:e});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),c=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/similar?api_key=").concat(it.apiTMDB,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(r){r.results.length<1?t.value="We can't find any other films related to this one":e.value=Bt(r.results)})).catch((function(){t.value="Can not connect to db"})),r.abrupt("return",{error:t,result:e});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return{result:e,error:t,searchMovies:r,relatedMovies:c,retrieveFilms:a}},Lt=Ut,At=Object(O["a"])({state:function(){return{movies:null,relatedMovies:null,nowPlaying:null,popular:null,topRated:null,comingSoon:null,favourite:{error:null,result:[]}}},mutations:{setMovies:function(e,t){e.movies=t},setRelatedMovies:function(e,t){e.relatedMovies=t},setNowPlaying:function(e,t){e.nowPlaying=t},setPopularFilms:function(e,t){e.popular=t},setTopRatedFilms:function(e,t){e.topRated=t},setComingSoonFilms:function(e,t){e.comingSoon=t},setFavourite:function(e,t){e.favourite.result.push(t)},removeFavourite:function(e,t){var r=e.favourite.result.findIndex((function(e){return e===t}));e.favourite.result.splice(r,1)}},actions:{fetchMovies:function(e,t){var r=e.commit,n=Lt(),a=n.result,c=n.error,o=n.searchMovies;o(t),r("setMovies",{error:c,result:a})},fetchRelatedMovies:function(e,t){var r=e.commit,n=Lt(),a=n.result,c=n.error,o=n.relatedMovies;o(t),r("setRelatedMovies",{error:c,result:a})},fetchNowPlaying:function(e){var t=e.commit,r=Lt(),n=r.result,a=r.error,c=r.retrieveFilms;c("nowPlaying"),t("setNowPlaying",{error:a,result:n})},fetchPopular:function(e){var t=e.commit,r=Lt(),n=r.result,a=r.error,c=r.retrieveFilms;c("popularFilms"),t("setPopularFilms",{error:a,result:n})},fetchTopRated:function(e){var t=e.commit,r=Lt(),n=r.result,a=r.error,c=r.retrieveFilms;c("topRatedFilms"),t("setTopRatedFilms",{error:a,result:n})},fetchComingSoon:function(e){var t=e.commit,r=Lt(),n=r.result,a=r.error,c=r.retrieveFilms;c("comingSoonFilms"),t("setComingSoonFilms",{error:a,result:n})}}}),Nt=At;r("845f");Object(n["c"])(S).use(Pt).use(Nt).mount("#app")},5854:function(e,t,r){},"5ab9":function(e,t,r){"use strict";r("f3eb")},"62d8":function(e,t,r){e.exports=r.p+"img/tmdb.08392f18.svg"},"6adc":function(e,t,r){"use strict";r("e479")},"6b56":function(e,t,r){"use strict";r("81cf")},"6c6d":function(e,t,r){e.exports=r.p+"img/PG.bc289be2.png"},"6eb8":function(e,t,r){"use strict";r("fc9f")},"79dd":function(e,t,r){"use strict";r("9616")},"81cf":function(e,t,r){},"845f":function(e,t,r){},8691:function(e,t,r){"use strict";r("cc6e")},9140:function(e,t,r){"use strict";r("e112")},9616:function(e,t,r){},c7f7:function(e,t,r){},cc6e:function(e,t,r){},d495:function(e,t,r){},e112:function(e,t,r){},e479:function(e,t,r){},f000:function(e,t,r){e.exports=r.p+"img/18.13ff3874.png"},f3eb:function(e,t,r){},f797:function(e,t,r){e.exports=r.p+"img/12A.4842e8a0.png"},f954:function(e,t,r){e.exports=r.p+"img/15.21c0606e.png"},fc9f:function(e,t,r){},fce2:function(e,t,r){e.exports=r.p+"img/U.e37135ea.png"},fd2a:function(e,t,r){e.exports=r.p+"img/rotten-tomato-90+.c4da100c.png"}});
//# sourceMappingURL=app.88db2a07.js.map